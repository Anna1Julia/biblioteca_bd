{% extends "base.html" %}
{% block content %}
<h2 class="mb-4">Editar Livro</h2>

<form method="POST" class="card p-4 shadow border border-primary rounded" style="max-width: 800px; background-color: #ffffff;">
  <div class="row mb-3">
    <div class="col-md-6">
      <label class="form-label fw-semibold">Título <span class="text-danger">*</span></label>
      <input type="text" name="titulo" class="form-control form-control-lg" value="{{ livro.Titulo }}" required>
    </div>

    <div class="col-md-6">
      <label class="form-label fw-semibold">Autor</label>
      <select name="autor" class="form-select">
        <option value="">— Selecione —</option>
        {% for autor in autores %}
        <option value="{{ autor.ID_autor }}" {% if autor.ID_autor == livro.Autor_id %}selected{% endif %}>
          {{ autor.Nome_autor }}
        </option>
        {% endfor %}
      </select>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-4">
      <label class="form-label fw-semibold">Gênero</label>
      <select name="genero" class="form-select">
        <option value="">— Selecione —</option>
        {% for genero in generos %}
        <option value="{{ genero.ID_genero }}" {% if genero.ID_genero == livro.Genero_id %}selected{% endif %}>
          {{ genero.Nome_genero }}
        </option>
        {% endfor %}
      </select>
    </div>

    <div class="col-md-4">
      <label class="form-label fw-semibold">Editora</label>
      <select name="editora" class="form-select">
        <option value="">— Selecione —</option>
        {% for editora in editoras %}
        <option value="{{ editora.ID_editora }}" {% if editora.ID_editora == livro.Editora_id %}selected{% endif %}>
          {{ editora.Nome_editora }}
        </option>
        {% endfor %}
      </select>
    </div>

    <div class="col-md-2">
      <label class="form-label fw-semibold">Ano</label>
      <input type="number" name="ano_publicacao" class="form-control" value="{{ livro.Ano_publicacao }}">
    </div>

    <div class="col-md-2">
      <label class="form-label fw-semibold">Qtd. Estoque</label>
      <input type="number" name="quantidade" class="form-control" value="{{ livro.Quantidade_disponivel }}" min="1" max="10" required>
      <div class="form-text">Máx: 10</div>
    </div>
  </div>

  <div class="d-flex gap-2">
    <button type="submit" class="btn btn-primary">Salvar</button>
    <a href="{{ url_for('listar_livros') }}" class="btn btn-outline-secondary">Cancelar</a>
  </div>
</form>
{% endblock %}
